{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "controllers": [
            "People",
            "SearchMusicController"
        ],
        "models": [
            "Person",
            "AblumList",
            "MusicList"
        ],
        "name": "MusicApp",
        "requires": [
            "Ext.MessageBox"
        ],
        "stores": [
            "People",
            "StyleStore",
            "AreaStore"
        ],
        "views": [
            "MainView",
            "StyleList",
            "AreaList",
            "SingerList",
            "MainPanel",
            "MyNavigationView",
            "MusicPanel",
            "MusicList"
        ]
    },
    "name": "Application",
    "designerId": "application",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    "$(document).ready(function() {",
                    "        \tvar modeText = ['顺序播放', '单曲循环', '随机播放', '列表循环'];",
                    "        \tvar player = new MPlayer({",
                    "        \t\t// 容器选择器名称",
                    "        \t\tcontainerSelector: '.mp',",
                    "        \t\t// 播放列表",
                    "        \t\tsongList: mplayer_song,",
                    "        \t\t// 专辑图片错误时显示的图片",
                    "        \t\tdefaultImg: 'img/mplayer_error.png',",
                    "        \t\t// 自动播放",
                    "        \t\tautoPlay: false,",
                    "        \t\t// 播放模式(0->顺序播放,1->单曲循环,2->随机播放,3->列表循环(默认))",
                    "        \t\tplayMode: 0,",
                    "        \t\tplayList: 0,",
                    "        \t\tplaySong: 0,",
                    "        \t\t// 当前歌词距离顶部的距离",
                    "        \t\tlrcTopPos: 34,",
                    "        \t\t// 列表模板，用${变量名}$插入模板变量",
                    "        \t\tlistFormat: '<tr><td>${name}$</td><td>${singer}$</td><td>${time}$</td></tr>',",
                    "        \t\t// 音量滑块改变事件名称",
                    "        \t\tvolSlideEventName: 'change',",
                    "        \t\t// 初始音量",
                    "        \t\tdefaultVolume: 80",
                    "        \t}, function() {",
                    "        \t\t// 绑定事件",
                    "        \t\tthis.on('afterInit', function() {",
                    "        \t\t\tconsole.log('播放器初始化完成，正在准备播放');",
                    "        \t\t}).on('beforePlay', function() {",
                    "        \t\t\tvar $this = this;",
                    "        \t\t\tvar song = $this.getCurrentSong(true);",
                    "        \t\t\tvar songName = song.name + ' - ' + song.singer;",
                    "        \t\t\tconsole.log('即将播放' + songName + '，return false;可以取消播放');",
                    "        \t\t}).on('timeUpdate', function() {",
                    "        \t\t\tvar $this = this;",
                    "        \t\t\tconsole.log('当前歌词：' + $this.getLrc());",
                    "        \t\t}).on('end', function() {",
                    "        \t\t\tvar $this = this;",
                    "        \t\t\tvar song = $this.getCurrentSong(true);",
                    "        \t\t\tvar songName = song.name + ' - ' + song.singer;",
                    "        \t\t\tconsole.log(songName + '播放完毕，return false;可以取消播放下一曲');",
                    "        \t\t}).on('mute', function() {",
                    "        \t\t\tvar status = this.getIsMuted() ? '已静音' : '未静音';",
                    "        \t\t\tconsole.log('当前静音状态：' + status);",
                    "        \t\t}).on('changeMode', function() {",
                    "        \t\t\tvar $this = this;",
                    "        \t\t\tvar mode = modeText[$this.getPlayMode()];",
                    "        \t\t\t$this.dom.container.find('.mp-mode').attr('title', mode);",
                    "        \t\t\tconsole.log('播放模式已切换为：' + mode);",
                    "        \t\t});",
                    "        \t});",
                    "",
                    "        \t$(document.body).append(player.audio); // 测试用",
                    "",
                    "        \tsetEffects(player);",
                    "",
                    "        });"
                ]
            },
            "name": "launch",
            "designerId": "9ad5b555-3ede-46d0-9f02-a7ae8873451e"
        }
    ]
}